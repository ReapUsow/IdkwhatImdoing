name: Run Python Application

on:
  workflow_dispatch:
    inputs: # ðŸ‘ˆ 1. Inputs must be nested under workflow_dispatch
      name:
        description: 'The string to be processed by hello.py'
        required: true
        type: string

jobs:
  build:
    runs-on: ubuntu-latest
    
    permissions:
      contents: read # access to check out code and install dependencies

    steps:
    - uses: actions/checkout@v4

    - name: Set up Python 3.10
      uses: actions/setup-python@v6 # ðŸ‘ˆ 2. 'uses' is nested under the step
      with: # ðŸ‘ˆ 3. 'with' is nested under the step
        python-version: "3.10"
        
    - name: Run python file 
      # 4. Define 'env' directly under the step
      env:
        # 5. Use a descriptive ENV variable name (e.g., INPUT_NAME) and reference the input context correctly
        INPUT_NAME: ${{ github.event.inputs.name }}
      run: |
        # Use the environment variable, quoted to prevent shell splitting (sanitization)
        python3 hello.py "${{ env.INPUT_NAME }}"
